webpackJsonp([10,15],{220:function(e,t,r){t=e.exports=r(5)(),t.push([e.id,".rightbutton{float:right;margin-bottom:15px}.el-form{background-color:#fff;padding:50px;width:70rem}.el-input__inner{border-style:solid;border-radius:4px;border:1px solid #bfd9cc}","",{version:3,sources:["/./src/pages/deploy_platform/new_project.vue"],names:[],mappings:"AACA,aACE,YAAa,AACb,kBAAoB,CAIrB,AAQD,SACE,sBAAwB,AACxB,aAAc,AACd,WAAa,CAEd,AACD,iBACE,mBAAoB,AACpB,kBAAmB,AACnB,wBAAqC,CACtC",file:"new_project.vue",sourcesContent:["\n.rightbutton {\n  float: right;\n  margin-bottom: 15px;\n  /*border: 1px solid rgb(191, 217, 204);*/\n  /*background-color: #149C4C;*/\n  /*color: white;*/\n}\n/*.el-textarea__inner {*/\n  /*width: 65%;*/\n/*}*/\n\n/*.el-select, .el-input {*/\n  /*width: 65%;*/\n/*}*/\n.el-form {\n  background-color: white;\n  padding: 50px;\n  width: 70rem;\n  /*border: 1px solid rgb(191, 217, 204);*/\n}\n.el-input__inner {\n  border-style: solid;\n  border-radius: 4px;\n  border: 1px solid rgb(191, 217, 204);\n}\n"],sourceRoot:"webpack://"}])},235:function(e,t,r){var o=r(220);"string"==typeof o&&(o=[[e.id,o,""]]);r(6)(o,{});o.locals&&(e.exports=o.locals)},304:function(e,t,r){r(235);var o=r(2)(r(388),r(319),null,null);e.exports=o.exports},319:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("hs-layout_auto",[r("div",{staticStyle:{"padding-top":"50px"}},[r("div",{staticClass:"tabs_class"}),e._v(" "),r("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticStyle:{color:"#149C4C","font-weight":"700","font-size":"16px"}},[e._v("\n              创建项目\n            ")]),e._v(" "),r("span",[r("router-link",{staticClass:"right",attrs:{to:{name:"013"}}},[r("el-button",{staticClass:"rightbutton",attrs:{type:"primary"},on:{click:function(e){}}},[e._v("发布管理")])],1)],1)]),e._v(" "),r("el-tabs",{attrs:{type:"border-card"}},[r("el-tab-pane",{attrs:{label:"PROJECT"}},[r("el-form",{ref:"projectForm",attrs:{model:e.projectForm,"label-width":"140px",rules:e.rules}},[r("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"项目名称与git代码库名称一致"},on:{blur:e.isExist},model:{value:e.projectForm.name,callback:function(t){e.$set(e.projectForm,"name","string"==typeof t?t.trim():t)},expression:"projectForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目类型",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"项目类型"},model:{value:e.projectForm.type,callback:function(t){e.$set(e.projectForm,"type","string"==typeof t?t.trim():t)},expression:"projectForm.type"}},[r("el-option",{attrs:{label:"JAVA",value:"JAVA"}}),e._v(" "),r("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"git地址",prop:"repository"}},[r("el-input",{attrs:{placeholder:"git@git.huashenghaoche.com:project.git"},model:{value:e.projectForm.repository,callback:function(t){e.$set(e.projectForm,"repository","string"==typeof t?t.trim():t)},expression:"projectForm.repository"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"服务端口",prop:"server_port"}},[r("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"0"},model:{value:e.projectForm.server_port,callback:function(t){e.$set(e.projectForm,"server_port","string"==typeof t?t.trim():t)},expression:"projectForm.server_port"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"下载路径",prop:"download_path"}},[r("el-input",{attrs:{placeholder:"http://www.nginx.org/download/"},model:{value:e.projectForm.download_path,callback:function(t){e.$set(e.projectForm,"download_path","string"==typeof t?t.trim():t)},expression:"projectForm.download_path"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"部署路径",prop:"server_path"}},[r("el-input",{attrs:{placeholder:"/opt/data/"},model:{value:e.projectForm.server_path,callback:function(t){e.$set(e.projectForm,"server_path","string"==typeof t?t.trim():t)},expression:"projectForm.server_path"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"describe"}},[r("el-input",{attrs:{type:"textarea",placeholder:"Enter something..."},model:{value:e.projectForm.describe,callback:function(t){e.$set(e.projectForm,"describe","string"==typeof t?t.trim():t)},expression:"projectForm.describe"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("projectForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"OTHER"}})],1)],1)],1)])},staticRenderFns:[]}},388:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{projectForm:{name:"",type:"",repository:"",server_port:"",server_path:"",project_admin:"",download_path:"",host_list:[],describe:""},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择记录类型",trigger:"change"}],repository:[{required:!0,message:"输入git地址",trigger:"blur"}],download_path:[{required:!0,message:"输入下载路径",trigger:"blur"}]}}},activated:function(){},methods:{resetForm:function(e){this.$refs[e].resetFields()},removeDomain:function(e,t){if("pro_address"===e){var r=this.projectForm.pro_address.indexOf(t);r!==-1&&this.projectForm.pro_address.splice(r,1)}else r=this.projectForm.dev_address.indexOf(t),r!==-1&&this.projectForm.dev_address.splice(r,1)},addDomain:function(){this.projectForm.dev_address.push({value:"",key:Date.now()})},isExist:function(){var e=this;console.log("name",this.projectForm),this.$http.get(this.deploy_api+"list/",{params:this.projectForm.name}).then(function(t){return!!t.data.status||(e.projectForm.name="",void e.$alert(t.data.msg))}).catch(function(t){e.resForm="error",console.log(e.error)})},submitForm:function(){var e=this;this.$http.post(this.deploy_api+"add_item/",this.projectForm).then(function(t){t.data.status?(e.$notify({title:"成功",message:"信息已提交",type:"success"}),e.projectForm.name="",e.projectForm.type="",e.projectForm.repository="",e.projectForm.server_port="",e.projectForm.download_path="",e.projectForm.describe="",e.projectForm.server_path=""):e.$alert(t.data.msg)}).catch(function(e){console.log(e)})}}}}});
//# sourceMappingURL=10.12a9d1d0f35cc880db49.js.map